{
  "control_id": "locked_objects_detail",
  "version": "1.0.0",
  "title": "Locked Objects Detail / Kilitli Objeler Detay",
  "description": "Identifies database objects that are currently locked, including tables, indexes, and who is holding the locks",
  "intent": "performance",
  "keywords": {
    "en": ["locked object", "table lock", "object lock", "lock holder", "locked table", "locked index", "lock status", "exclusive lock"],
    "tr": ["kilitli obje", "tablo kilidi", "obje kilidi", "kilit sahibi", "kilitli tablo", "kilitli indeks", "kilit durumu", "Ã¶zel kilit"]
  },
  "queries": [
    {
      "query_id": "q_locked_objects_v1",
      "sql": "SELECT DISTINCT lo.SESSION_ID, lo.LOCKED_MODE, lo.OBJECT_ID, do.OWNER, do.OBJECT_NAME, do.OBJECT_TYPE FROM V$LOCKED_OBJECT lo JOIN DBA_OBJECTS do ON lo.OBJECT_ID = do.OBJECT_ID ORDER BY lo.SESSION_ID",
      "binds": {},
      "row_limit": 100,
      "timeout_seconds": 30,
      "result_schema": [
        {"name": "SESSION_ID", "type": "NUMBER", "sensitive": false},
        {"name": "LOCKED_MODE", "type": "VARCHAR2", "sensitive": false},
        {"name": "OBJECT_ID", "type": "NUMBER", "sensitive": false},
        {"name": "OWNER", "type": "VARCHAR2", "sensitive": true},
        {"name": "OBJECT_NAME", "type": "VARCHAR2", "sensitive": false},
        {"name": "OBJECT_TYPE", "type": "VARCHAR2", "sensitive": false}
      ]
    }
  ],
  "safety_classification": "SAFE_READONLY",
  "doc_hint": "Identify which sessions hold locks on which objects. Use SESSION_ID to cross-reference with V$SESSION. Determine if locks are necessary or should be released.",
  "analysis_prompt": "List locked objects by type and owner. Identify sessions holding locks. Flag if any lock is held for unexpectedly long duration."
}
