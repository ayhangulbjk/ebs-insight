{
  "control_id": "workflow_queue_status",
  "version": "1.0.0",
  "title": "Workflow Queue Status / İş Akışı Sırası Durumu",
  "description": "Monitors the status of Oracle Workflow queue and deferred processes to ensure workflow engine is functioning properly",
  "intent": "workflow",
  "keywords": {
    "en": ["workflow", "queue", "workflow queue", "deferred process", "workflow engine", "workflow status", "queue status", "workflow stuck"],
    "tr": ["iş akışı", "sıra", "iş akışı sırası", "ertelenmiş işlem", "iş akışı motoru", "iş akışı durumu", "sıra durumu", "iş akışı takıldı"]
  },
  "queries": [
    {
      "query_id": "q_workflow_queue_v1",
      "sql": "SELECT COUNT(*) TOTAL_DEFERRED, COUNT(CASE WHEN DELAY < TRUNC(SYSDATE) THEN 1 END) OVERDUE_DEFERRED FROM WF_DEFERRED WHERE PHASE_CODE IN ('ERRORED', 'PENDED')",
      "binds": {},
      "row_limit": 10,
      "timeout_seconds": 30,
      "result_schema": [
        {"name": "TOTAL_DEFERRED", "type": "NUMBER", "sensitive": false},
        {"name": "OVERDUE_DEFERRED", "type": "NUMBER", "sensitive": false}
      ]
    }
  ],
  "safety_classification": "SAFE_READONLY",
  "doc_hint": "Check OVERDUE_DEFERRED count. If > 0, workflow processes are stuck or delayed. Investigate WF_DEFERRED queue for errors or pending items.",
  "analysis_prompt": "Report total deferred processes and overdue count. If overdue > 0, alert that workflow processing is delayed. Recommend workflow engine restart if needed."
}
